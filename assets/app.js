angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$scope","$location",function(t,e){t.$on("login",function(n,r){t.currentUser=r,e.path("/")})}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc",function(t,e){t.login=function(n,r){t.errorMsg="",e.login(n,r).then(function(e){t.$emit("login",e)},function(){t.errorMsg="Incorrect username/password."})}}]),angular.module("app").controller("QuestCtrl",["$scope","QuestSvc",function(t,e){t.addQuestion=function(){t.postBody&&e.create({username:"dickeyxxx",body:t.postBody}).success(function(e){t.questions.unshift(e),t.postBody=null})},e.fetch().success(function(e){t.questions=e})}]),angular.module("app").service("QuestSvc",["$http",function(t){this.fetch=function(){return t.get("/api/quests")},this.create=function(e){return t.post("/api/quests",e)}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc",function(t,e){t.register=function(n,r){e.register(n,r).then(function(e){t.$emit("login",e)})}}]),angular.module("app").config(["$routeProvider",function(t){t.when("/",{controller:"QuestCtrl",templateUrl:"/templates/questions.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"/templates/register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"/templates/login.html"}).when("/ask",{controller:"QuestCtrl",templateUrl:"/templates/ask.html"})}]),angular.module("app").service("UserSvc",["$http",function(t){var e=this;e.getUser=function(){return t.get("/api/users").then(function(t){return t.data})},e.login=function(n,r){return t.post("/api/sessions",{username:n,password:r}).then(function(n){return e.token=n.data.token,t.defaults.headers.common["X-Auth"]=n.data,e.getUser()})},e.register=function(n,r){return t.post("/api/users",{username:n,password:r}).then(function(){return e.login(n,r)})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJsb2dpbi5jdHJsLmpzIiwicXVlc3QuY3RybC5qcyIsInF1ZXN0LnN2Yy5qcyIsInJlZ2lzdGVyLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRsb2NhdGlvbiIsIiRvbiIsIl8iLCJ1c2VyIiwiY3VycmVudFVzZXIiLCJwYXRoIiwiVXNlclN2YyIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImVycm9yTXNnIiwidGhlbiIsIiRlbWl0IiwiUXVlc3RTdmMiLCJhZGRRdWVzdGlvbiIsInBvc3RCb2R5IiwiY3JlYXRlIiwiYm9keSIsInN1Y2Nlc3MiLCJxdWVzdGlvbiIsInF1ZXN0aW9ucyIsInVuc2hpZnQiLCJmZXRjaCIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJnZXQiLCJxdWVzdCIsInBvc3QiLCJyZWdpc3RlciIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwic3ZjIiwiZ2V0VXNlciIsInJlc3BvbnNlIiwiZGF0YSIsInRva2VuIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxPQUNFLFlDREZELFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBK0IsU0FBQSxZQUFBLFNBQUFDLEVBQUFDLEdBQzdCRCxFQUFBRSxJQUFBLFFBQUEsU0FBQUMsRUFBQUMsR0FDRUosRUFBQUssWUFBQUQsRUFDQUgsRUFBQUssS0FBQSxVQ0pKVCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsYUFBeUIsU0FBQSxVQUFBLFNBQUFDLEVBQUFPLEdBQ3ZCUCxFQUFBUSxNQUFBLFNBQUFDLEVBQUFDLEdBQ0NWLEVBQUFXLFNBQUEsR0FDQ0osRUFBQUMsTUFBQUMsRUFBQUMsR0FDQUUsS0FBQSxTQUFBUixHQUNFSixFQUFBYSxNQUFBLFFBQUFULElBQ0YsV0FDQ0osRUFBQVcsU0FBQSxxQ0NSTGQsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLGFBQXlCLFNBQUEsV0FBQSxTQUFBQyxFQUFBYyxHQUN2QmQsRUFBQWUsWUFBQSxXQUNFZixFQUFBZ0IsVUFDRUYsRUFBQUcsUUFDRVIsU0FBQSxZQUNBUyxLQUFBbEIsRUFBQWdCLFdBRUZHLFFBQUEsU0FBQUMsR0FDRXBCLEVBQUFxQixVQUFBQyxRQUFBRixHQUNBcEIsRUFBQWdCLFNBQUEsUUFLTkYsRUFBQVMsUUFDQUosUUFBQSxTQUFBRSxHQUNFckIsRUFBQXFCLFVBQUFBLE9DakJKeEIsUUFBQUMsT0FBQSxPQUNBMEIsUUFBQSxZQUFxQixRQUFBLFNBQUFDLEdBQ25CQyxLQUFBSCxNQUFBLFdBQ0UsTUFBQUUsR0FBQUUsSUFBQSxnQkFFRkQsS0FBQVQsT0FBQSxTQUFBVyxHQUNFLE1BQUFILEdBQUFJLEtBQUEsY0FBQUQsT0NOSi9CLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxnQkFBNEIsU0FBQSxVQUFBLFNBQUFDLEVBQUFPLEdBQzFCUCxFQUFBOEIsU0FBQSxTQUFBckIsRUFBQUMsR0FDRUgsRUFBQXVCLFNBQUFyQixFQUFBQyxHQUNBRSxLQUFBLFNBQUFSLEdBQ0VKLEVBQUFhLE1BQUEsUUFBQVQsU0NMTlAsUUFBQUMsT0FBQSxPQUNBaUMsUUFBUSxpQkFBQSxTQUFBQyxHQUNOQSxFQUNBQyxLQUFBLEtBQUFsQyxXQUFBLFlBQTJDbUMsWUFBQSw4QkFDM0NELEtBQUEsYUFBQWxDLFdBQUEsZUFBOENtQyxZQUFBLDZCQUM5Q0QsS0FBQSxVQUFBbEMsV0FBQSxZQUEyQ21DLFlBQUEsMEJBQzNDRCxLQUFBLFFBQUFsQyxXQUFBLFlBQXlDbUMsWUFBQSwyQkNOM0NyQyxRQUFBQyxPQUFBLE9BQ0EwQixRQUFBLFdBQW9CLFFBQUEsU0FBQUMsR0FDbEIsR0FBQVUsR0FBQVQsSUFDQVMsR0FBQUMsUUFBQSxXQUNFLE1BQUFYLEdBQUFFLElBQUEsY0FDQWYsS0FBQSxTQUFBeUIsR0FDRSxNQUFBQSxHQUFBQyxRQUdKSCxFQUFBM0IsTUFBQSxTQUFBQyxFQUFBQyxHQUNFLE1BQUFlLEdBQUFJLEtBQUEsaUJBQ0VwQixTQUFBQSxFQUFBQyxTQUFBQSxJQUNGRSxLQUFBLFNBQUF5QixHQUdFLE1BRkFGLEdBQUFJLE1BQUFGLEVBQUFDLEtBQUFDLE1BQ0FkLEVBQUFlLFNBQUFDLFFBQUFDLE9BQUEsVUFBQUwsRUFBQUMsS0FDQUgsRUFBQUMsYUFHSkQsRUFBQUwsU0FBQSxTQUFBckIsRUFBQUMsR0FDRSxNQUFBZSxHQUFBSSxLQUFBLGNBQ0VwQixTQUFBQSxFQUFBQyxTQUFBQSxJQUNGRSxLQUFBLFdBQ0UsTUFBQXVCLEdBQUEzQixNQUFBQyxFQUFBQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuICAnbmdSb3V0ZSdcbl0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24pIHtcbiAgJHNjb3BlLiRvbignbG9naW4nLCBmdW5jdGlvbiAoXywgdXNlcikge1xuICAgICRzY29wZS5jdXJyZW50VXNlciA9IHVzZXJcbiAgICAkbG9jYXRpb24ucGF0aCgnLycpXG4gIH0pXG59KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgVXNlclN2Yykge1xuICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gIFx0JHNjb3BlLmVycm9yTXNnID0gJyc7XG4gICAgVXNlclN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICRzY29wZS4kZW1pdCgnbG9naW4nLCB1c2VyKVxuICAgIH0sIGZ1bmN0aW9uKGVycm9yKXtcbiAgICBcdCRzY29wZS5lcnJvck1zZyA9IFwiSW5jb3JyZWN0IHVzZXJuYW1lL3Bhc3N3b3JkLlwiO1xuICAgIH0pXG4gIH1cbn0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdRdWVzdEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBRdWVzdFN2Yykge1xuICAkc2NvcGUuYWRkUXVlc3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCRzY29wZS5wb3N0Qm9keSkge1xuICAgICAgUXVlc3RTdmMuY3JlYXRlKHtcbiAgICAgICAgdXNlcm5hbWU6ICdkaWNrZXl4eHgnLFxuICAgICAgICBib2R5OiAgICAgJHNjb3BlLnBvc3RCb2R5XG4gICAgICB9KVxuICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XG4gICAgICAgICRzY29wZS5xdWVzdGlvbnMudW5zaGlmdChxdWVzdGlvbilcbiAgICAgICAgJHNjb3BlLnBvc3RCb2R5ID0gbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBRdWVzdFN2Yy5mZXRjaCgpXG4gIC5zdWNjZXNzKGZ1bmN0aW9uIChxdWVzdGlvbnMpIHtcbiAgICAkc2NvcGUucXVlc3Rpb25zID0gcXVlc3Rpb25zXG4gIH0pXG59KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnUXVlc3RTdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcbiAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3F1ZXN0cycpXG4gIH1cbiAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAocXVlc3QpIHtcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9xdWVzdHMnLCBxdWVzdClcbiAgfVxufSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMpIHtcbiAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgIFVzZXJTdmMucmVnaXN0ZXIodXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgIC50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAkc2NvcGUuJGVtaXQoJ2xvZ2luJywgdXNlcilcbiAgICB9KVxuICB9XG59KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xuICAkcm91dGVQcm92aWRlclxuICAud2hlbignLycsICAgICAgICAgeyBjb250cm9sbGVyOiAnUXVlc3RDdHJsJywgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL3F1ZXN0aW9ucy5odG1sJyB9KVxuICAud2hlbignL3JlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnUmVnaXN0ZXJDdHJsJywgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL3JlZ2lzdGVyLmh0bWwnIH0pXG4gIC53aGVuKCcvbG9naW4nLCAgICB7IGNvbnRyb2xsZXI6ICdMb2dpbkN0cmwnLCB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvbG9naW4uaHRtbCcgfSlcbiAgLndoZW4oJy9hc2snLCAgICB7IGNvbnRyb2xsZXI6ICdRdWVzdEN0cmwnLCB0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvYXNrLmh0bWwnIH0pXG59KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnVXNlclN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuICB2YXIgc3ZjID0gdGhpc1xuICBzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJylcbiAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgfSlcbiAgfVxuICBzdmMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7XG4gICAgICB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBzdmMudG9rZW4gPSByZXNwb25zZS5kYXRhLnRva2VuXG4gICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSByZXNwb25zZS5kYXRhXG4gICAgICByZXR1cm4gc3ZjLmdldFVzZXIoKVxuICAgIH0pXG4gIH1cbiAgc3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywge1xuICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmRcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdmMubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgIH0pXG4gIH1cbn0pXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=